{% extends 'base.html' %}
{% block title %}Browse{% endblock title %}
{% block site_css %}
<style>
    #map {
        min-height: 500px;
        height: 100%;
    }
</style>
{% endblock site_css %}

{% block content%}
<div class="input-group">
    <input type="text" class="form-control" id="searchTextField" placeholder="Search" aria-label=""
        aria-describedby="basic-addon1">
    <select id="radius">
        <option value=25>25 mi</option>
        <option value=50>50 mi</option>
        <option value=75>75 mi</option>
    </select>
</div>

<div class="row">
    <div class="col-sm-12 col-md-6">
        {% for p in photographers %}
        <div clas="container" id="card-test">
            <div class="card text-black" style="max-width: 40rem;">
                <div class="card-header"> {{p.get_address}}</div>
                <div class="card-body">
                    <h4 class="card-title">{{p.get_full_name}}</h4>
                    <h6 class="card-subtitle mb-2 text-muted"></h6>
                    {% for tag in p.get_tags %}
                    <span class=" badge badge-primary">{{tag}}</span>
                    {% endfor %}
                    <p class="card-text">{{p.get_bio}}</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    <div class="col-sm-12 col-md-6">
        <div id="map"></div>
    </div>
</div>
{% endblock content%}
{% block google_map_api_js %}
<script>
    // Store the latitude and longtitue of the city that was returned from the search
    // This allows for centering of map around the city.
    var city_lat = parseFloat("{{lat}}");
    var city_lng = parseFloat("{{lng}}");

    // Grab the json data to create markers
    var json_data = JSON.parse("{{json_data|escapejs}}");
</script>
<script src="{{ STATIC_URL }}js/map.js"></script>
{% endblock google_map_api_js %}
{% block google_map_api_callback %}&callback=initMap{% endblock google_map_api_callback %}